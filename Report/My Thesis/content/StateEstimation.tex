\chapter{Vehicle State Estimation} \label{ch:state_estimation}
\section{Kinematic Model}
The vehicle to be tracked need to be modelled in order to apply state estimation algorithm. The vehicle model needs to be simple and linear for fast state estimation. The Kinematic Single-Track Model treats vehicle as two wheels connected by a wheelbase driving in a single track. This model considers the non-holonomic behavior and minimum turning radius (unlike point-mass model) and is simple enough to be applied to track vehicles where the dimension of the vehicles are unknown( which are necessary for complicated models like multi-body model).
\subsection{Constant Acceleration Model}
The tracked vehicle is assumed to have constant acceleration. The vehicle state is represented by:
\begin{equation*}
x =[ 
\begin{matrix}
x & y & v & a & \dot{a} & \psi & \omega & \dot{\omega}
\end{matrix}
]^T
\end{equation*}
The state transition matrix is derived as:
\begin{equation*}
A_{CA} = \left[
\begin{matrix}
1 & 0 & \Delta T & \frac{1}{2} \Delta T ^2 & \frac{1}{6}\Delta T^3 & 0 & 0 & 0 \\
0 & 1 & \Delta T & \frac{1}{2} \Delta T ^2 & \frac{1}{6}\Delta T^3 & 0 & 0 & 0 \\
0 & 0 & 1 & \Delta T & \frac{1}{2} \Delta T ^2 & 0 & 0 & 0 \\
0 & 0 & 0 & 1 & \Delta T & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0 & 1 & \Delta T & \frac{1}{2}\Delta T^2 \\
0 & 0 & 0 & 0 & 0 & 0 & 1 & \Delta T\\
0 & 0 & 0 & 0 & 0 & 0 & 0 & 1
\end{matrix}
\right]
\end{equation*}
The measurement matrix is:

\subsection{Constant Turn Rate}
The tracked vehicle is assumed to have a constant turn rate, $\omega$, which can be calculated using the equation:
\begin{equation*}
\omega = (v * a) / |v|^2
\end{equation*}
The acceleration is assumed to be normal to the velocity vector, so that the velocity is constant and the motion is expected in x-y horizontal plane for simplicity. The velocity components across the axes is considered as $v_x$ and $v_y$ in x and y axis respectively.
The state of the tracked vehicle is represented by:
\begin{equation*}
x = \left[
\begin{matrix}
x & y & v_x & v_y & \psi & \omega
\end{matrix}
\right]
\end{equation*}
The state transition matrix is derived by derivates as :
\begin{equation*}
A_{CTR} = \left[
\begin{matrix}
1 & 0 & SW & -CW & 0 & 0\\
0 & 1 & CW & SW & 0 & 0\\
0 & 0 & C & -S & 0 & 0\\
0 & 0 & S & C & 0 & 0\\
0 & 0 & 0 & 0 & 1 & \Delta T\\
0 & 0 & 0 & 0 & 0 & 1\\
\end{matrix}
\right]
\end{equation*}
where $S$,$C$, $SW$ and $CW$ are:
\begin{equation*}
\begin{split}
S &= sin(\omega \Delta T)\\
C &= cos(\omega \Delta T)\\
SW &= \frac{S}{\omega}\\
CW &= \frac{C}{\omega}
\end{split}
\end{equation*}
\subsection{Constant Turn Rate and Acceleration}
Three main models of the vehicle dynamics are used.
Formula x = Ax+1 + W..
y = Cx + V...

\section{Set based State Estimation Method}
%\section{State Estimation Methods}
%\subsection{Stochastic Process}
%\begin{itemize}
%\item{Define Stochastic Process} : Based on probabilistic assumptions on perturbations and noises
%\item{Advantages and Disadvanges} : Not realistic
%\item{A method that uses this} : Kalman Filter
%\end{itemize}
%\subsection{Deterministic Process}
%\begin{itemize}
%\item{Definition} : The next state is a set that depends on a function of measurement, previous estimate, noise and uncertainties. Assumes that the noise is bounded
%\item{Advantages and Disadvantages} : Realistic but not always the noise is bounded
%\item{List of method that uses this} : Set-based state estimation methods
%\item{Domain Representaions} : shapes to describe the possible real-time states of the system.
%\item{Polytopes : Adv and disadvantages} : Accurate but computationally expensive
%\item{Ellipsoid}: Computationally easy and simple but less accurate [Parameter estimation algorithms for a set-membership description of uncertainty by G.Belforte, B.Bona, V.Cerone]
%\item{Zonotopes}: A well balance of computation and accuracy. Different properties of zonotope to make the bounds tight. - P-radius, L-radius and Volume
%[Segment Minimization], [Volume Minimization], [Zonotope Preliminaries], [Wrapping Effect]
%\end{itemize}
%\section{System Models} 
%[A survey on motion prediction and risk assessment for intelligent vehicles
%Stephanie Lefevre, Dizan Vasquez and Christian Laugier]
%
%[Comparison and Evaluation of Advanced Motion Models for Vehicle Tracking
%Robin Schubert, Eric Richter, Gerd Wanielik]
%\subsection{Physics Model}
%\begin{itemize}
%\item{Constant Velocity}
%\item{Constant Acceleration}
%\item{Constant Turn Rate and Steering}
%\end{itemize}
%\subsection{Manuever Model}
%\subsection{Interaction Model}
%\section{Datasets}
%\begin{itemize}
%\item{NGSIM dataset} https://data.transportation.gov/Automobiles/Next-Generation-Simulation-NGSIM-Vehicle-Trajector/8ect-6jqj/data
%\item{CommonRoad Scenario} https://commonroad.in.tum.de/
%\item{KO-Project} https://www.forwiss.uni-passau.de/en/projects/67/
%\end{itemize}
